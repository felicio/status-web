// todo?: rename to url.proto
syntax = "proto3";

// todo?: define/specify/lock as subset of CommunityDescription and ContactCodeAdvertisement protobufs
// todo?: add timestamp
// todo?: add permission
message Community {
 string display_name = 1;
 string description = 2;
 uint32 members_count = 3;
 string color = 4;
}

message Channel {
 string display_name = 1;
 string description = 2;
 string emoji = 3;
 string color = 4;
 Community community = 5;
}

message User {
 string display_name = 1;
 string description = 2;
 string color = 3;
}

// todo?: remove since checksum was dropped; use CommunityURLData instead
// todo?: add timestamp
// todo?: ensure deterministic signing with (json) serialization; https://github.com/bufbuild/protobuf-es/issues/251
// todo?: use link keyword
message URLData {
 // Community, Channel, or User
 bytes content = 1;
}

message URLProps {
	string encoded_url_data = 1;
	// Signature of encoded URL data
	string encoded_signature = 2;
}
